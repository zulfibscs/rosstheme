<?php
/**
 * Front Page Template - Ross Theme Homepage Router
 * 
 * This file acts as a router that loads the selected homepage template.
 * Template selection: WordPress Admin → Ross Theme → Homepage Templates
 * 
 * How it works:
 * 1. Checks if a homepage is set (Settings → Reading)
 * 2. Gets the selected template from page meta (_wp_page_template)
 * 3. Loads the template file (template-home-*.php)
 * 4. Falls back to default content if no template selected
 * 
 * @package RossTheme
 * @since 1.0.0
 */

// Get homepage ID from WordPress settings
$page_id = get_option('page_on_front');
$selected_template = '';

if ($page_id) {
    // Get template assigned to homepage
    $selected_template = get_post_meta($page_id, '_wp_page_template', true);
}

// If homepage template is selected and file exists, use it
if ($selected_template && 
    $selected_template !== 'default' && 
    strpos($selected_template, 'template-home-') === 0 &&
    file_exists(locate_template($selected_template))) {
    
    // Load the selected homepage template
    include(locate_template($selected_template));
    
} else {
    // No template selected - show default homepage
    get_header();
    ?>
    
    <main id="primary" class="site-main front-page ross-default-homepage">
        <section class="welcome-section">
            <div class="container">
                <div class="welcome-content">
                    <span class="welcome-icon dashicons dashicons-admin-home"></span>
                    <h1>Welcome to Ross Theme</h1>
                    <p class="lead">Your professional WordPress theme is ready!</p>
                    
                    <div class="welcome-actions">
                        <a href="<?php echo admin_url('admin.php?page=ross-homepage-templates'); ?>" class="button button-primary button-large">
                            <span class="dashicons dashicons-layout"></span>
                            Choose a Homepage Template
                        </a>
                        <a href="<?php echo admin_url('admin.php?page=ross-theme'); ?>" class="button button-secondary button-large">
                            <span class="dashicons dashicons-admin-customizer"></span>
                            Customize Theme Settings
                        </a>
                    </div>
                    
                    <div class="welcome-features">
                        <h2>What's Available</h2>
                        <ul>
                            <li><strong>6 Professional Homepage Templates</strong> - Business, Creative, E-commerce, Minimal, Restaurant, Startup</li>
                            <li><strong>5 Header Layouts</strong> - Default, Centered, Minimal, Modern, Transparent</li>
                            <li><strong>4 Footer Templates</strong> - Classic, Modern, Minimal, Corporate</li>
                            <li><strong>Full Customization</strong> - Colors, Typography, Spacing via Theme Settings</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <style>
            .ross-default-homepage {
                padding: 60px 20px;
                min-height: 500px;
            }
            .welcome-section {
                text-align: center;
                max-width: 800px;
                margin: 0 auto;
            }
            .welcome-icon {
                font-size: 64px;
                width: 64px;
                height: 64px;
                color: #001946;
                margin-bottom: 20px;
            }
            .welcome-content h1 {
                font-size: 42px;
                margin-bottom: 10px;
                color: #001946;
            }
            .welcome-content .lead {
                font-size: 20px;
                color: #666;
                margin-bottom: 30px;
            }
            .welcome-actions {
                margin: 40px 0;
                display: flex;
                gap: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }
            .welcome-actions .button {
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 12px 24px !important;
                height: auto !important;
            }
            .welcome-features {
                margin-top: 60px;
                padding-top: 40px;
                border-top: 2px solid #e5e5e5;
            }
            .welcome-features h2 {
                font-size: 28px;
                margin-bottom: 20px;
                color: #001946;
            }
            .welcome-features ul {
                list-style: none;
                padding: 0;
                max-width: 600px;
                margin: 0 auto;
            }
            .welcome-features li {
                padding: 15px;
                background: #f9f9f9;
                margin-bottom: 10px;
                border-radius: 8px;
                text-align: left;
            }
            .welcome-features li strong {
                color: #001946;
            }
        </style>
    </main>
    
    <?php
    get_footer();
}
                <p>"They transformed our accounting process and saved us time every month."</p>
                <div class="author">— Sarah J., CEO</div>
            </div>
            <div class="testimonial">
                <p>"Reliable, insightful and great communication. Highly recommended."</p>
                <div class="author">— Mark P., Founder</div>
            </div>
        </div>
    </section>

    <section class="front-reviews container">
        <h2>Reviews</h2>
        <div class="review-list">
            <div class="review">⭐⭐⭐⭐⭐ — Excellent support and fast turnaround.</div>
            <div class="review">⭐⭐⭐⭐ — Helpful advice and friendly team.</div>
            <div class="review">⭐⭐⭐⭐⭐ — Saved us significant tax last year.</div>
        </div>
    </section>

    <section class="front-comments container">
        <h2>Recent Comments</h2>
        <div class="comment">Great article on small business tax — very practical.</div>
        <div class="comment">Helpful onboarding process, thanks.</div>
    </section>

    <section class="front-gallery container">
        <h2>Gallery</h2>
        <div class="gallery-grid">
            <img src="https://images.unsplash.com/photo-1585386959984-a415522e3f9b?w=800&q=80&auto=format&fit=crop&ixlib=rb-4.0.3&s=5b4b1b2d8f5b9ce6d6b5b4c9f986b3c1" alt="gallery-1"/>
            <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=800&q=80&auto=format&fit=crop&ixlib=rb-4.0.3&s=7c3a5abc55b1f6c3b5f2b2ff1b1f3e7a" alt="gallery-2"/>
            <img src="https://images.unsplash.com/photo-1551836022-1ba2f3c0cde4?w=800&q=80&auto=format&fit=crop&ixlib=rb-4.0.3&s=9a1d4a8c1d3e4b5a6c7d8e9f0a1b2c3d" alt="gallery-3"/>
            <img src="https://images.unsplash.com/photo-1508385082359-fc2f3d8f8f48?w=800&q=80&auto=format&fit=crop&ixlib=rb-4.0.3&s=2e3b4c5d6f7a8b9c0d1e2f3a4b5c6d7e" alt="gallery-4"/>
        </div>
    </section>

</main>

<?php get_footer();
